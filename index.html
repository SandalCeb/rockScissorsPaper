<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Камень-ножницы-бумага</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!--
        Камень - серый
        Ножницы - оранжевые
        Бумага - белая
    -->
    <div class="col-8 mx-auto text-center mt-5">
        <h1 class="info">Игрок 1 ходит!</h1>
        <div class="row  py-5">
            <div class="col-6 bg-success py-5">
                <h1>Игрок 1</h1>
                <div class="choice-player-1">

                </div>
                <p>Камень - A</p>
                <p>Ножницы - S</p>
                <p>Бумага - D</p>
            </div>

            <div class="col-6 bg-info py-5">
                <h1>Игрок 2</h1>
                <div class="choice-player-2">
                </div>
                <p>Камень - J</p>
                <p>Ножницы - K</p>
                <p>Бумага - L</p>
            </div>
        </div>
    </div>
    <script type="text/javascript">

        let choice_elem_1 = document.querySelector(".choice-player-1");
        let choice_elem_2 = document.querySelector(".choice-player-2");
        let info_elem = document.querySelector(".info")

        let queue ="player1";

        let choice1 = "";
        let choice2 = ""



        document.addEventListener('keydown', function(arg){
            console.log(arg);

        if(queue == "player1"){ 
          if(arg.code == "KeyA"){
               
                queue = "player2"
                choice1 = "Камень";
                info_elem.innerHTML = "Игрок 2 ходит"
            } else if(arg.code == "KeyS"){
               
                queue = "player2"
                choice1 = "Ножницы";
                info_elem.innerHTML = "Игрок 2 ходит"
            }else if(arg.code == "KeyD"){
               
                queue = "player2";
                choice1 = "Бумага" ;
                info_elem.innerHTML = "Игрок 2 ходит"
            }
        }
           

        if(queue == "player2"){ 
          if(arg.code == "KeyJ"){
               
                
                choice2 = "Камень";
                setTimeout(finish, 1000)
            } else if(arg.code == "KeyK"){
            
                
                choice2 = "Ножницы";
                setTimeout(finish, 1000)
            }else if(arg.code == "KeyL"){
               
                
                choice2 = "Бумага" ;
                setTimeout(finish, 1000)
            }
        }

    });

     function finish(){
            if(choice1 == "Камень" ){
                choice_elem_1.style.backgroundImage = "url(rock.jpeg)";
                choice_elem_1.style.backgroundSize = "100% 100%";
            }else if(choice1 == "Ножницы"){
                choice_elem_1.style.backgroundimage = "url(scissors.jpeg)";
                choice_elem_1.style.backgroundSize = "100% 100%";
            }else if(choice1 == "Бумага"){
                choice_elem_1.style.backgroundImage = "url(paper.jpeg)";
                choice_elem_1.style.backgroundSize = "100% 100%";
            }

            if(choice2 == "Камень" ){
               choice_elem_2.style.backgroundImage = "url(rock.jpeg)";
               choice_elem_2.style.backgroundSize = "100% 100%";
            }else if(choice2 == "Ножницы"){
               choice_elem_2.style.backgroundImage = "url(scissors.jpeg)";
               choice_elem_2.style.backgroundSize = "100% 100%";
            }else if(choice2 == "Бумага"){
               choice_elem_2.style.backgroundImage = "url(paper.jpeg)";
               choice_elem_2.style.backgroundSize = "100% 100%";
            }


            if(choice1 == choice2){
                alert("ничья");
            }else if(choice1 == "Камень" && choice2 == "Ножницы"){
                alert("первый выиграл")
            }else if(choice1 == "Ножницы" && choice2 == "Бумага"){
                alert("первый выиграл")
            }else if(choice1 == "Бумага" && choice2 == "Камень"){
                alert("первый выиграл");
            }else{
                alert("второй победил")
            }

        }
    </script>
   
</body>
</html>